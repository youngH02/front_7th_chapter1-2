# Feature Verification Agent Rule

# **STEP06. 최종 검증**

## 📍 현재 단계: 6️⃣ 최종 검증

**역할**:

- 명세서에 정의된 모든 기능이 실제로 구현되었는지 최종 검증합니다
- 모든 테스트를 재실행하여 기능이 정상 작동하는지 확인합니다
- 기본적인 코드 컨벤션에 맞게 구현되었는지 검증합니다

**⚠️ 중요**: 이 단계에서는 반드시 명세서를 다시 읽고 모든 기능이 구현되었는지 체크리스트로 검증해야 합니다.

## 실행 절차

1. **명세서 재확인**: `docs/project_spec/`에서 명세서를 다시 읽고 기능 목록 추출
2. **구현 체크리스트 생성**: 명세서의 각 기능이 구현되었는지 체크리스트 생성
3. **명세-구현 비교**: 명세서의 모든 기능이 실제로 구현되었는지 비교 검증
4. **누락 기능 식별**: 누락된 기능이 있는지 확인하고 사용자에게 제시
5. **최종 테스트 실행**: `pnpm vitest run`으로 모든 테스트가 통과하는지 확인
6. **코드 컨벤션 검증**: 명명 규칙, 포맷팅, 구조, 타입 안전성 확인
7. **완료 보고**: 구현된 기능과 테스트 자산 요약을 사용자에게 공유
8. **⚠️ 커밋 실행 (필수)**: `chore(td-wrap): complete [기능명] feature` 형식으로 **실제 git 커밋을 실행**

## 작성 규칙

- **테스트 실행**: `pnpm vitest run` 또는 `pnpm test --run` 사용 (runInBand 옵션 사용 금지)
- **테스트 통과 확인**: 모든 테스트가 통과해야 함
- **코드 컨벤션 검증**:
  - 명명 규칙 (naming)
  - 포맷팅 (formatting)
  - 구조 (structure)
  - 타입 안전성 (typing)
- **컨벤션 위반 확인**: 위반 사항이 있다면 파일, 타입, 내용, 심각도 등록
- **완료된 기능 기록**: 구현된 기능 목록과 검증된 테스트 ID 추적
- **오픈 이슈 정리**: 리스크, 버그, 질문, 기술 부채 등록

## 명세서-구현 체크리스트 (필수)

최종 검증 시 명세서의 모든 기능이 구현되었는지 체크리스트로 검증합니다.

### 체크리스트 생성 형식

```markdown
# ✅ 명세서 vs 구현 완료 체크리스트

## 명세서 정보

- 파일명: docs/project*spec/XXX*.md
- 총 기능 수: [N]개
- 구현 완료 수: [M]개
- 구현률: [%]

## 기능별 구현 체크

### 카테고리 1: [카테고리명]

| 순번 | 명세 기능 | 구현 여부 | 구현 파일                       | 테스트 파일       | 비고                 |
| ---- | --------- | --------- | ------------------------------- | ----------------- | -------------------- |
| 1    | 일정 추가 | ✅ 완료   | src/hooks/useEventForm.ts       | src/**tests**/... |                      |
| 2    | 일정 수정 | ✅ 완료   | src/hooks/useEventForm.ts       | src/**tests**/... |                      |
| 3    | 일정 삭제 | ✅ 완료   | src/hooks/useEventOperations.ts | src/**tests**/... |                      |
| 4    | 검색 기능 | ⚠️ 부분   | src/hooks/useSearch.ts          | -                 | 카테고리 검색 미구현 |
| 5    | 알림 기능 | ✅ 완료   | src/hooks/useNotifications.ts   | src/**tests**/... |                      |

### 카테고리 2: [다음 카테고리]

[반복...]

## ⚠️ 누락된 기능 (있는 경우)

다음 기능이 명세서에는 있지만 구현되지 않았습니다:

1. **기능명**: [기능 설명]

   - 명세 참조: [명세 항목]
   - 우선순위: High/Medium/Low
   - 비고: [미구현 이유 또는 제약사항]

2. **기능명**: [기능 설명]
   [반복...]

## 📊 구현 통계

| 상태         | 개수      | 비율     |
| ------------ | --------- | -------- |
| ✅ 완료      | [A]개     | [%]      |
| ⚠️ 부분 구현 | [B]개     | [%]      |
| ❌ 미구현    | [C]개     | [%]      |
| **총계**     | **[N]개** | **100%** |

**전체 구현률**: [X]%
```

### 체크 절차

1. **명세서 읽기**: docs/project_spec/에서 명세서 파일 읽기
2. **기능 목록 추출**: 명세서의 각 섹션에서 기능 단위 추출
3. **코드베이스 검색**: 각 기능에 대한 구현 파일 찾기
4. **테스트 파일 확인**: 해당 기능의 테스트가 있는지 확인
5. **체크리스트 생성**: 위 형식으로 체크리스트 생성
6. **사용자에게 제시**: 누락된 기능이 있으면 사용자에게 보고

## 최종 완료 보고 (필수)

모든 검증이 완료되면 다음 형식으로 최종 보고를 제시합니다:

```markdown
# ✅ 기능 구현 완료 보고

## 📋 구현 요약

### ✅ 완료된 기능

- [기능명]: [설명] - [구현 파일] - [테스트 ID]
- [기능명]: [설명] - [구현 파일] - [테스트 ID]
  [계속...]

### ⚠️ 부분 구현된 기능 (있는 경우)

- [기능명]: [설명] - [부분 구현 내용]
  [계속...]

### ❌ 미구현 기능 (있는 경우)

- [기능명]: [설명] - [미구현 이유]
  [계속...]

## 📊 검증 결과

| 항목        | 결과                      |
| ----------- | ------------------------- |
| 테스트 통과 | ✅/❌ [통과/실패]         |
| 구현률      | [X]% ([완료/부분/미구현]) |
| 코드 컨벤션 | ✅/⚠️/❌ [통과/경고/실패] |
| 전체 완성도 | [평가]                    |

## 🎯 결과

[구현 완료 또는 미구현 이유 요약]
```

## 커밋 규칙

### 커밋 메시지 형식

```
chore(td-wrap): complete [기능명] feature

- 구현 완료 기능: [요약]
- 테스트 통과: ✅ 모든 테스트 통과
- 구현률: [X]%
- 코드 컨벤션: ✅/⚠️ (결과)
```

### 커밋 체크리스트

- ✅ 명세 vs 구현 체크리스트에서 누락 항목 정리 및 처리
- ✅ 전체 테스트 실행 결과 공유 (통과/실패 시 조치)
- ✅ 코드 컨벤션 검사 결과 기록
- ✅ 최종 보고서 사용자 확인

**⚠️ 커밋 실행 (절대 필수)**: 이 단계를 마치기 전에 반드시 실제 git 커밋을 실행해야 합니다

- `run_terminal_cmd` 도구를 사용하여 다음 명령을 실행:

  ```bash
  git add .
  git commit -m "chore(td-wrap): complete [기능명] feature" \
    -m "Completed Features:
  - [기능 1]
  - [기능 2]
  - ...

  Test Status: ✅ 모든 테스트 통과
  Implementation Rate: [X]%
  Code Convention: ✅ 준수"
  ```

- **커밋이 성공적으로 완료될 때까지 이 단계를 절대 종료하지 않음**
- 커밋 실패 시 에러를 확인하고 재시도
- 커밋 완료 후 이 TDD 사이클을 종료

조건을 충족하면 **STEP06 종료 전에 반드시 커밋**합니다.

9. **⚠️ STEP06 요약 표시 (절대 필수)**: 커밋 전에 반드시 STEP06 요약 표를 화면에 표시합니다

## STEP06 요약 (반드시 화면에 표시!)

**⚠️ 필수**: 커밋 전에 반드시 아래 형식으로 화면에 표시하여 사용자가 확인할 수 있도록 해야 합니다!

```markdown
# 📋 STEP06 최종 검증 요약

| 항목             | 내용                        |
| ---------------- | --------------------------- |
| 구현 완료 기능   | [기능 1]<br>[기능 2]<br>... |
| 테스트 상태      | ✅ 모든 테스트 통과         |
| 구현률           | [X]%                        |
| 코드 컨벤션 상태 | ✅ 준수                     |
| 다음 단계        | 완료                        |
```

**⚠️ 중요**: 이 STEP06 요약을 화면에 표시하지 않고는 STEP06을 종료할 수 없습니다!

---

STEP06은 최종 검증 보고와 **커밋까지 완료**해야 종료됩니다.
