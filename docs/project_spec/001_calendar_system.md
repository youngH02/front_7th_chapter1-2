# 캘린더 시스템 명세

## 기능 개요

일정 관리가 가능한 캘린더 시스템. 주간/월간 뷰 전환, 일정 CRUD, 검색, 겹침 경고, 알림 기능을 제공합니다.

## 상세 요구사항

### 일정 관리

#### 일정 추가

- 제목, 날짜, 시작/종료 시간 입력 필수
- 설명, 위치, 카테고리 선택 가능
- 알림 시간 설정 가능 (1분 전, 10분 전, 1시간 전, 2시간 전, 1일 전)
- 반복 일정 설정 (현재 주석 처리됨)
- 시간 유효성 검증: 시작 시간 < 종료 시간

#### 일정 수정

- 기존 일정 클릭 시 일정 정보가 폼에 로드됨
- 모든 필드 수정 가능
- 수정 완료 버튼 클릭 시 저장

#### 일정 삭제

- 삭제 아이콘 클릭 시 일정 제거
- 확인 없이 즉시 삭제

### 캘린더 뷰

#### 주간 뷰

- 주간 달력 테이블 형태로 표시
- 일주일의 날짜와 요일 표시
- 각 날짜별로 해당일 일정 목록 표시
- 일정 제목만 표시하며 간결하게 디스플레이

#### 월간 뷰

- 월간 달력 테이블 형태로 표시
- 6주 분량의 날짜 셀 표시
- 각 날짜별 일정 제목 표시
- 공휴일 정보 표시 (빨간색 텍스트)
- 빈 날짜 셀은 표시하지 않음

#### 뷰 전환

- Week/Month 선택 드롭다운으로 전환
- 전환 시 현재 날짜 기준으로 해당 뷰 표시
- 이전/다음 버튼으로 날짜 이동
  - 주간 뷰: 이전/다음 클릭 시 7일 단위 이동
  - 월간 뷰: 이전/다음 클릭 시 1개월 단위 이동
- 기본 뷰: 월간 뷰 (초기 상태)

### 일정 검색

- 검색어 입력으로 제목, 설명, 위치, 카테고리에서 검색
- 실시간 필터링 (입력 즉시 결과 반영)
- 검색 결과가 없으면 "검색 결과가 없습니다." 메시지 표시
- 검색 결과는 리스트뿐만 아니라 캘린더 뷰에도 반영
- 현재 선택된 뷰(주간/월간)에 해당하는 기간의 이벤트만 검색 결과에 포함
- 검색어를 지우면 모든 일정이 다시 표시됨

### 일정 겹침 경고

- 새 일정 추가 또는 수정 시 기존 일정과 시간 겹침 확인
- 겹침 발생 시 경고 다이얼로그 표시
- 다이얼로그 제목: "일정 겹침 경고"
- 겹치는 일정 목록을 제목(날짜 시작시간-종료시간) 형식으로 표시
- 예시: "기존 회의 (2025-10-15 09:00-10:00)"
- 취소 또는 계속 진행 선택 가능
- 강제 진행 시 겹치는 일정 그대로 저장됨
- 겹침 검사는 동일 날짜에서 시간만 비교

### 알림 기능

- 설정된 알림 시간에 도달하면 알림 메시지 표시
- 알림 메시지: "N분 후 [일정 제목] 일정이 시작됩니다."
- 예시: "10분 후 기존 회의 일정이 시작됩니다."
- 알림이 있는 일정은 빨간색으로 강조 표시
- 알림 아이콘(Notifications) 표시로 시각적 구분
- 알림은 우측 상단 고정 위치에 스택으로 표시
- 알림 닫기 버튼(X)으로 개별 닫기 가능
- 같은 이벤트에 대해 중복 알림은 발생하지 않음
- 알림 시간 도달 시점에 자동으로 알림 생성

### 특수 케이스

#### 시간 유효성 검증

- 시작 시간이 종료 시간보다 늦으면 에러 메시지 표시
- 날짜는 필수 입력 항목
- 시간 입력 형식: HH:mm

#### 빈 상태 처리

- 일정이 없으면 "검색 결과가 없습니다." 표시
- 주간 뷰와 월간 뷰 모두 일정 없을 때 동일 메시지
- 검색 결과가 없을 때도 동일 메시지 표시

#### 공휴일 표시

- 한국의 공휴일 정보를 API로 가져와서 표시
- 월간 뷰에서 공휴일은 빨간색 텍스트로 표시
- 공휴일 정보는 날짜 셀 상단에 표시
- 표시되는 공휴일 예시:
  - 신정 (1월 1일)
  - 삼일절 (3월 1일)
  - 개천절 (10월 3일)
  - 추석 (10월 5~7일)
  - 한글날 (10월 9일)
- 날짜 변경 시 해당 월의 공휴일 정보 자동 업데이트

## 에러 처리

### 네트워크 오류

- 이벤트 로딩 실패 시: "이벤트 로딩 실패" 토스트 표시 (빨간색)
- 일정 저장 실패 시: "일정 저장 실패" 토스트 표시 (빨간색, 존재하지 않는 이벤트 수정 시)
- 일정 삭제 실패 시: "일정 삭제 실패" 토스트 표시 (빨간색)
- API 에러(500 등) 발생 시에도 적절한 에러 메시지 표시

### 폼 검증

- 필수 정보 미입력 시: "필수 정보를 모두 입력해주세요." 토스트 표시
- 시간 설정 오류 시: "시간 설정을 확인해주세요." 토스트 표시

## 제약사항

- 반복 일정 기능은 현재 주석 처리되어 있음 (8주차 과제)
- 일정 겹침 검사는 동일 날짜의 시간만 비교 (다른 날짜는 겹침으로 간주하지 않음)
- 검색은 대소문자 구분 없이 부분 일치 검색
- 알림은 브라우저 환경에서만 작동하며 실제 푸시 알림 아님
- 일정 데이터는 서버 API를 통해 저장/조회 (REST API 사용)

## 기술적 맥락

- 언어: TypeScript
- 프레임워크: React 19.1.0
- UI 라이브러리: Material UI 7.2.0
- 상태 관리: React Hooks (useState)
- 날짜 처리: JavaScript Date API
- 테스트 프레임워크: Vitest
- 구현 위치: src/App.tsx (메인 컴포넌트)
- 관련 훅: useCalendarView, useEventForm, useEventOperations, useNotifications, useSearch
- 관련 유틸: dateUtils, eventOverlap, eventUtils, notificationUtils, timeValidation
